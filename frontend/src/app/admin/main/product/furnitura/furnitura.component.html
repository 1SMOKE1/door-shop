<div mat-dialog-content class="create-product-wrap">
  <h1 class="create-product-title font-h1-title">Форма {{isEditMode() ? 'редагування' : 'створення'}} продукта</h1>
  <div class="product-form-input">
    <form class="product-form" [formGroup]="furnituraForm">


      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-select
            class="form-field-input"
            formControlName="brand"
            matInput
            placeholder="Виробник"
          >
          <mat-option *ngFor="let brand of productProducers" [value]="brand.producerName">{{brand.producerName}} ФП:{{brand.filtrationField}}</mat-option>
          </mat-select>
          <mat-error
            *ngIf="
              furnituraForm.get('brand')?.invalid ||
              (furnituraForm.get('brand')?.touched &&
                furnituraForm.get('brand')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
        <button (click)="openProductProducerDialog()" class="btn-add-producer" mat-icon-button >
          <mat-icon>add</mat-icon>
        </button>
      </div>


      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>{{ "Назва продукту" | titlecase }}</mat-label>
          <input
            class="form-field-input"
            type="text"
            formControlName="name"
            matInput
            placeholder="Введіть назву продукту"
          />
          <mat-error
            *ngIf="
              furnituraForm.get('name')?.invalid ||
              (furnituraForm.get('name')?.touched && 
              furnituraForm.get('name')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>{{ "Ціна" | titlecase }}</mat-label>
          <input
            class="form-field-input"
            type="number"
            formControlName="price"
            matInput
            placeholder="Введіть ціну продукта"
          />
          <mat-error
            *ngIf="
              furnituraForm.get('price')?.invalid ||
              (furnituraForm.get('price')?.touched &&
                furnituraForm.get('price')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>{{ "Ціна з Установкою" | titlecase }}</mat-label>
          <input
            class="form-field-input"
            type="installationPrice"
            type="number"
            formControlName="installationPrice"
            matInput
            placeholder="Введіть ціну товари з установкою"
          />
          <mat-error
            *ngIf="
              furnituraForm.get('installationPrice')?.invalid ||
              (furnituraForm.get('installationPrice')?.touched &&
                furnituraForm.get('installationPrice')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
      </div>

  
      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>{{ "Країна Виробник" | titlecase }}</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="country"
            matInput
            placeholder="Введіть країну виробника"
          >
            <mat-option value="Україна">Україна</mat-option>
            <mat-option value="Туреччина">Туреччина</mat-option>
            <mat-option value="Китай">Китай</mat-option>
            <mat-option value="Польща">Польща</mat-option>
            <mat-option value="Італія">Італія</mat-option>
            <mat-option value="Німеччина">Німеччина</mat-option>
          </mat-select>
          <mat-error
            *ngIf="
              furnituraForm.get('country')?.invalid ||
              (furnituraForm.get('country')?.touched &&
                furnituraForm.get('country')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>{{ "Стан" | titlecase }}</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="state"
            matInput
            placeholder="Введіть стан продукта"
          >
            <mat-option value="Новий">Новий</mat-option>
            <mat-option value="Акційний">Акційний</mat-option>
            <mat-option value="Распродаж">Распродаж</mat-option>
          </mat-select>
          <mat-error
            *ngIf="
              furnituraForm.get('state')?.invalid ||
              (furnituraForm.get('state')?.touched &&
                furnituraForm.get('state')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-select
            class="form-field-input"
            formControlName="inStock"
            matInput
            placeholder="Наявність на складі"
          >
          <mat-option value="В наявності">В наявності</mat-option>
          <mat-option value="Немає в наявності">Немає в наявності</mat-option>
          <mat-option value="Під замовлення">Під замовлення</mat-option>
          </mat-select>
          <mat-error
            *ngIf="
              furnituraForm.get('inStock')?.invalid ||
              (furnituraForm.get('inStock')?.touched &&
                furnituraForm.get('inStock')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
      </div>


      <div class="product-form-input">
        <mat-form-field appearance="outline" class="form-field">
          <mat-select
            class="form-field-input"
            formControlName="guarantee"
            matInput
            placeholder="Гарантійний термін"
          >
          <mat-option value="12 місяців">12 місяців</mat-option>
          <mat-option value="18 місяців">18 місяців</mat-option>
          <mat-option value="2 роки">2 роки</mat-option>
          <mat-option value="3 роки">3 роки</mat-option>
          </mat-select>
          <mat-error
            *ngIf="
              furnituraForm.get('guarantee')?.invalid ||
              (furnituraForm.get('guarantee')?.touched &&
                furnituraForm.get('guarantee')?.dirty)
            "
          >
            Обов'язкове поле
          </mat-error>
        </mat-form-field>
      </div>


      
      <div class="home_page-checkbox">
        <p><mat-checkbox formControlName="homePage" >На головній сторінці</mat-checkbox></p>
      </div>

      <div>
        <h4 class="textarea-title">Опис</h4>
        <textarea formControlName="description" cols="30" rows="10"></textarea>
      </div>
      <div class="file-container">
        <input #inputFileRef hidden type="file" (change)="onFileUpload($event)">
        <button (click)="triggerInput()" mat-raised-button color="primary">Add image</button>
        <img [ngStyle]="{'display': imagePreview === '' ? 'none' : 'block'}" class="img-preview" [src]="imagePreview" alt="">
      </div>
      <div align="end">
        <button 
          mat-dialog-close
          class="product-form-btn btn-close font-p-sm"
          > Закрити 
        </button>
        <button 
          [disabled]="furnituraForm.invalid"
          class="product-form-btn font-p-sm"
          (click)="submit()"
          > {{isEditMode() ? 'Редагувати' : 'Створити'}}
        </button>
      </div>
    </form>
  </div>
</div>

